"use strict";(self.webpackChunkpythonvn_docs=self.webpackChunkpythonvn_docs||[]).push([[667],{7327:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>I,contentTitle:()=>C,default:()=>E,frontMatter:()=>w,metadata:()=>r,toc:()=>P});const r=JSON.parse('{"id":"install/server-gunicorn","title":"Gunnicorn & Nginx","description":"H\u01b0\u1edbng d\u1eabn n\xe0y s\u1ebd gi\xfap b\u1ea1n tri\u1ec3n khai \u1ee9ng d\u1ee5ng v\u1edbi Gunicorn l\xe0m m\xe1y ch\u1ee7 WSGI v\xe0 Nginx l\xe0m proxy ng\u01b0\u1ee3c tr\xean m\xe1y ch\u1ee7 Ubuntu.","source":"@site/i18n/vi/docusaurus-plugin-content-docs/current/install/server-gunicorn.mdx","sourceDirName":"install","slug":"/install/server-gunicorn","permalink":"/docs-pythonvn/vi/docs/install/server-gunicorn","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/install/server-gunicorn.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Gunnicorn & Nginx"},"sidebar":"tutorialSidebar","previous":{"title":"Install","permalink":"/docs-pythonvn/vi/docs/category/install"},"next":{"title":"How using","permalink":"/docs-pythonvn/vi/docs/category/how-using"}}');var s=t(4848),c=t(8453),i=t(6540),l=t(4164),a=t(3104),o=t(6347),h=t(205),d=t(7485),u=t(1682),p=t(679);function g(n){return i.Children.toArray(n).filter(n=>"\n"!==n).map(n=>{if(!n||(0,i.isValidElement)(n)&&function(n){const{props:e}=n;return!!e&&"object"==typeof e&&"value"in e}(n))return n;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof n.type?n.type:n.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function x(n){const{values:e,children:t}=n;return(0,i.useMemo)(()=>{const n=e??function(n){return g(n).map(({props:{value:n,label:e,attributes:t,default:r}})=>({value:n,label:e,attributes:t,default:r}))}(t);return function(n){const e=(0,u.XI)(n,(n,e)=>n.value===e.value);if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map(n=>n.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(n),n},[e,t])}function m({value:n,tabValues:e}){return e.some(e=>e.value===n)}function j({queryString:n=!1,groupId:e}){const t=(0,o.W6)(),r=function({queryString:n=!1,groupId:e}){if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!e)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:n,groupId:e});return[(0,d.aZ)(r),(0,i.useCallback)(n=>{if(!r)return;const e=new URLSearchParams(t.location.search);e.set(r,n),t.replace({...t.location,search:e.toString()})},[r,t])]}function v(n){const{defaultValue:e,queryString:t=!1,groupId:r}=n,s=x(n),[c,l]=(0,i.useState)(()=>function({defaultValue:n,tabValues:e}){if(0===e.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:e}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${e.map(n=>n.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=e.find(n=>n.default)??e[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:e,tabValues:s})),[a,o]=j({queryString:t,groupId:r}),[d,u]=function({groupId:n}){const e=function(n){return n?`docusaurus.tab.${n}`:null}(n),[t,r]=(0,p.Dv)(e);return[t,(0,i.useCallback)(n=>{e&&r.set(n)},[e,r])]}({groupId:r}),g=(()=>{const n=a??d;return m({value:n,tabValues:s})?n:null})();(0,h.A)(()=>{g&&l(g)},[g]);return{selectedValue:c,selectValue:(0,i.useCallback)(n=>{if(!m({value:n,tabValues:s}))throw new Error(`Can't select invalid tab value=${n}`);l(n),o(n),u(n)},[o,u,s]),tabValues:s}}var y=t(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f({className:n,block:e,selectedValue:t,selectValue:r,tabValues:c}){const i=[],{blockElementScrollPositionUntilNextRender:o}=(0,a.a_)(),h=n=>{const e=n.currentTarget,s=i.indexOf(e),l=c[s].value;l!==t&&(o(e),r(l))},d=n=>{let e=null;switch(n.key){case"Enter":h(n);break;case"ArrowRight":{const t=i.indexOf(n.currentTarget)+1;e=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(n.currentTarget)-1;e=i[t]??i[i.length-1];break}}e?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":e},n),children:c.map(({value:n,label:e,attributes:r})=>(0,s.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:n=>{i.push(n)},onKeyDown:d,onClick:h,...r,className:(0,l.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":t===n}),children:e??n},n))})}function N({lazy:n,children:e,selectedValue:t}){const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(n){const n=r.find(n=>n.props.value===t);return n?(0,i.cloneElement)(n,{className:(0,l.A)("margin-top--md",n.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:r.map((n,e)=>(0,i.cloneElement)(n,{key:e,hidden:n.props.value!==t}))})}function S(n){const e=v(n);return(0,s.jsxs)("div",{className:(0,l.A)("tabs-container",b.tabList),children:[(0,s.jsx)(f,{...e,...n}),(0,s.jsx)(N,{...e,...n})]})}function k(n){const e=(0,y.A)();return(0,s.jsx)(S,{...n,children:g(n.children)},String(e))}const T={tabItem:"tabItem_Ymn6"};function _({children:n,hidden:e,className:t}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,l.A)(T.tabItem,t),hidden:e,children:n})}const w={sidebar_position:1,title:"Gunnicorn & Nginx"},C="\ud83d\ude80 Tri\u1ec3n khai \u1ee8ng d\u1ee5ng tr\xean Ubuntu v\u1edbi Gunicorn v\xe0 Nginx",I={},P=[{value:"\ud83e\uddf0 Y\xeau c\u1ea7u********",id:"-y\xeau-c\u1ea7u",level:2},{value:"Step 1: \ud83d\udd27 C\u1eadp nh\u1eadt h\u1ec7 th\u1ed1ng",id:"step-1--c\u1eadp-nh\u1eadt-h\u1ec7-th\u1ed1ng",level:2},{value:"Step 2: \ud83d\udc0d C\xe0i \u0111\u1eb7t Python, pip v\xe0 venv (n\u1ebfu ch\u01b0a c\xe0i \u0111\u1eb7t)",id:"step-2--c\xe0i-\u0111\u1eb7t-python-pip-v\xe0-venv-n\u1ebfu-ch\u01b0a-c\xe0i-\u0111\u1eb7t",level:2},{value:"Step 3: \ud83c\udfd7\ufe0f T\u1ea1o d\u1ef1 \xe1n v\xe0 m\xf4i tr\u01b0\u1eddng",id:"step-3-\ufe0f-t\u1ea1o-d\u1ef1-\xe1n-v\xe0-m\xf4i-tr\u01b0\u1eddng",level:2},{value:"Step 4: \ud83d\udce4 T\u1ea3i m\xe3 l\xean m\xe1y ch\u1ee7",id:"step-4--t\u1ea3i-m\xe3-l\xean-m\xe1y-ch\u1ee7",level:2},{value:"Step 5: \ud83d\udd25 C\xe0i \u0111\u1eb7t c\xe1c y\xeau c\u1ea7u v\xe0 test \u1ee9ng d\u1ee5ng",id:"step-5--c\xe0i-\u0111\u1eb7t-c\xe1c-y\xeau-c\u1ea7u-v\xe0-test-\u1ee9ng-d\u1ee5ng",level:2},{value:"Step 6: \ud83c\udf10 C\xe0i \u0111\u1eb7t v\xe0 c\u1ea5u h\xecnh Nginx",id:"step-6--c\xe0i-\u0111\u1eb7t-v\xe0-c\u1ea5u-h\xecnh-nginx",level:2},{value:"Step 7: \u2699\ufe0f Ch\u1ea1y Gunicorn d\u01b0\u1edbi d\u1ea1ng d\u1ecbch v\u1ee5 systemd",id:"step-7-\ufe0f-ch\u1ea1y-gunicorn-d\u01b0\u1edbi-d\u1ea1ng-d\u1ecbch-v\u1ee5-systemd",level:2},{value:"\ud83d\udd10 (T\xf9y ch\u1ecdn) K\xedch ho\u1ea1t HTTPS b\u1eb1ng Let&#39;s Encrypt",id:"-t\xf9y-ch\u1ecdn-k\xedch-ho\u1ea1t-https-b\u1eb1ng-lets-encrypt",level:2},{value:"\u2705 Truy c\u1eadp \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n",id:"-truy-c\u1eadp-\u1ee9ng-d\u1ee5ng-c\u1ee7a-b\u1ea1n",level:2}];function V(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"-tri\u1ec3n-khai-\u1ee9ng-d\u1ee5ng-tr\xean-ubuntu-v\u1edbi-gunicorn-v\xe0-nginx",children:"\ud83d\ude80 Tri\u1ec3n khai \u1ee8ng d\u1ee5ng tr\xean Ubuntu v\u1edbi Gunicorn v\xe0 Nginx"})}),"\n",(0,s.jsx)(e.p,{children:"H\u01b0\u1edbng d\u1eabn n\xe0y s\u1ebd gi\xfap b\u1ea1n tri\u1ec3n khai \u1ee9ng d\u1ee5ng v\u1edbi Gunicorn l\xe0m m\xe1y ch\u1ee7 WSGI v\xe0 Nginx l\xe0m proxy ng\u01b0\u1ee3c tr\xean m\xe1y ch\u1ee7 Ubuntu."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-y\xeau-c\u1ea7u",children:"\ud83e\uddf0 Y\xeau c\u1ea7u********"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"M\xe1y ch\u1ee7 Ubuntu 20.04 ho\u1eb7c 22.04"}),"\n",(0,s.jsx)(e.li,{children:"C\xe0i \u0111\u1eb7t Python 3"}),"\n",(0,s.jsxs)(e.li,{children:["Quy\u1ec1n ",(0,s.jsx)(e.code,{children:"sudo"})," ho\u1eb7c t\xe0i kho\u1ea3n root"]}),"\n",(0,s.jsx)(e.li,{children:"\u0110\u1ea3m b\u1ea3o c\xf3 th\u1ec3 truy c\u1eadp qua IP ho\u1eb7c domain"}),"\n",(0,s.jsxs)(e.li,{children:["M\xe3 ngu\u1ed3n \u0111\u01b0\u1ee3c cung c\u1ea5p b\u1edfi ",(0,s.jsx)(e.strong,{children:"Python Vietnam"})," - ",(0,s.jsx)(e.a,{href:"https://pythonvn.com/ecom-python/",children:"Xem chi ti\u1ebft"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"step-1--c\u1eadp-nh\u1eadt-h\u1ec7-th\u1ed1ng",children:"Step 1: \ud83d\udd27 C\u1eadp nh\u1eadt h\u1ec7 th\u1ed1ng"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo apt update && sudo apt upgrade -y\n"})}),"\n",(0,s.jsx)(e.h2,{id:"step-2--c\xe0i-\u0111\u1eb7t-python-pip-v\xe0-venv-n\u1ebfu-ch\u01b0a-c\xe0i-\u0111\u1eb7t",children:"Step 2: \ud83d\udc0d C\xe0i \u0111\u1eb7t Python, pip v\xe0 venv (n\u1ebfu ch\u01b0a c\xe0i \u0111\u1eb7t)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo apt install python3 python3-pip python3-venv -y\n"})}),"\n",(0,s.jsx)(e.h2,{id:"step-3-\ufe0f-t\u1ea1o-d\u1ef1-\xe1n-v\xe0-m\xf4i-tr\u01b0\u1eddng",children:"Step 3: \ud83c\udfd7\ufe0f T\u1ea1o d\u1ef1 \xe1n v\xe0 m\xf4i tr\u01b0\u1eddng"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mkdir ~/project_name\ncd ~/project_name\npython3 -m venv venv\nsource venv/bin/activate\n"})}),"\n",(0,s.jsx)(e.h2,{id:"step-4--t\u1ea3i-m\xe3-l\xean-m\xe1y-ch\u1ee7",children:"Step 4: \ud83d\udce4 T\u1ea3i m\xe3 l\xean m\xe1y ch\u1ee7"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Di chuy\u1ec3n m\xe3 \u0111\u1ebfn m\xe1y ch\u1ee7 b\u1eb1ng ssh"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"M\xe1y ch\u1ee7 Ubuntu \u0111ang ch\u1ea1y, c\xf3 t\xe0i kho\u1ea3n SSH (eg ubuntu@123.123.123.123)"}),"\n",(0,s.jsx)(e.li,{children:"T\u1ea1o th\u01b0 m\u1ee5c tr\xean m\xe1y ch\u1ee7 d\u1ea1ng /home/user/flask_project"}),"\n",(0,s.jsx)(e.li,{children:"C\xe0i \u0111\u1eb7t Python, Flask, Gunicorn, Nginx tr\xean m\xe1y ch\u1ee7 nh\u01b0 h\u01b0\u1edbng d\u1eabn \u1edf tr\xean"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\ud83d\udd11 Ki\u1ec3m tra quy\u1ec1n truy c\u1eadp m\xe1y ch\u1ee7 SSH"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ssh ubuntu@123.123.123.123\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"N\u1ebfu \u0111\u01b0\u1ee3c nh\u1eafc nh\u1eadp m\u1eadt kh\u1ea9u: h\xe3y nh\u1eadp m\u1eadt kh\u1ea9u v\xe0o Ho\u1eb7c thi\u1ebft l\u1eadp kh\xf3a SSH \u0111\u1ec3 thu\u1eadn ti\u1ec7n (ch\u1ea1y m\u1ed9t l\u1ea7n):"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ssh-keygen -t rsa -b 4096\nssh-copy-id ubuntu@123.123.123.123\n"})}),"\n",(0,s.jsxs)(k,{children:[(0,s.jsxs)(_,{value:"Window",label:"Window",default:!0,children:[(0,s.jsx)(e.p,{children:"S\u1eed d\u1ee5ng \u1ee9ng d\u1ee5ng b\xean d\u01b0\u1edbi \u0111\u1ec3 k\u1ebft n\u1ed1i v\xe0 t\u1ea3i m\xe3 l\xean m\xe1y ch\u1ee7:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://winscp.net/eng/index.php",children:"WinSCP"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://filezilla-project.org/",children:"FileZilla"})}),"\n"]})]}),(0,s.jsxs)(_,{value:"Mac Os",label:"Mac Os",children:[(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea3i l\xean s\u1eed d\u1ee5ng Scp:"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"scp -r ~/folder-local/*  user@<IP>:/project-folder\n"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"folder-local:"})," \u0110\u01b0\u1eddng d\u1eabn th\u01b0 m\u1ee5c d\u1ef1 \xe1n tr\xean m\xe1y t\xednh c\u1ee7a b\u1ea1n."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"project-folder:"})," \u0110\u01b0\u1eddng d\u1eabn th\u01b0 m\u1ee5c d\u1ef1 \xe1n tr\xean m\xe1y ch\u1ee7."]}),"\n"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea3i l\xean s\u1eed d\u1ee5ng Rsync:"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"rsync -avz ~/folder-local/* user@<IP>:/project-folder\n"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"folder-local:"})," Project folder path on your computer."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"project-folder:"})," Project folder path on server."]}),"\n"]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\u1ea5u tr\xfac th\u01b0 m\u1ee5c"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"/home/<user>/<project_name>/\n|\u2013\u2013 app\n\u251c\u2500\u2500 wsgi.py\n\u251c\u2500\u2500 venv/\n|\u2013\u2013 requirements.txt\n\u2514\u2500\u2500 config.py\n"})}),"\n",(0,s.jsx)(e.h2,{id:"step-5--c\xe0i-\u0111\u1eb7t-c\xe1c-y\xeau-c\u1ea7u-v\xe0-test-\u1ee9ng-d\u1ee5ng",children:"Step 5: \ud83d\udd25 C\xe0i \u0111\u1eb7t c\xe1c y\xeau c\u1ea7u v\xe0 test \u1ee9ng d\u1ee5ng"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\xe0i \u0111\u1eb7t c\xe1c g\xf3i y\xeau c\u1ea7u:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Test \u1ee9ng d\u1ee5ng:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"python wsgi.py\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"D\xf2ng l\u1ec7nh hi\u1ec3n th\u1ecb nh\u01b0 sau l\xe0 th\xe0nh c\xf4ng."})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-shell",children:"WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\n * Running on http://127.0.0.1:5000\nPress CTRL+C to quit\n * Restarting with stat\n"})}),"\n",(0,s.jsx)(e.h2,{id:"step-6--c\xe0i-\u0111\u1eb7t-v\xe0-c\u1ea5u-h\xecnh-nginx",children:"Step 6: \ud83c\udf10 C\xe0i \u0111\u1eb7t v\xe0 c\u1ea5u h\xecnh Nginx"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\xe0i \u0111\u1eb7t Nginx:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo apt install nginx -y\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea1o m\u1ed9t t\u1eadp tin c\u1ea5u h\xecnh m\u1edbi:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo nano /etc/nginx/sites-available/project_name\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Copy v\xe0 d\xe1n m\xe3 sau v\xe0 thay \u0111\u1ed5i th\xf4ng tin c\u1ee7a b\u1ea1n:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"server {\n    listen 80;\n    server_name domain_name.com;  # Change this to your domain_name if you have one\n\n    location / {\n        proxy_pass http://127.0.0.1:5000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"K\xedch ho\u1ea1t Sites Enabled:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo ln -s /etc/nginx/sites-available/flask_project /etc/nginx/sites-enabled\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"sudo rm /etc/nginx/sites-enabled/default"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo rm /etc/nginx/sites-enabled/default\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ki\u1ec3m tra v\xe0 kh\u1edfi \u0111\u1ed9ng l\u1ea1i Nginx:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo nginx -t\nsudo systemctl restart nginx\n"})}),"\n",(0,s.jsx)(e.h2,{id:"step-7-\ufe0f-ch\u1ea1y-gunicorn-d\u01b0\u1edbi-d\u1ea1ng-d\u1ecbch-v\u1ee5-systemd",children:"Step 7: \u2699\ufe0f Ch\u1ea1y Gunicorn d\u01b0\u1edbi d\u1ea1ng d\u1ecbch v\u1ee5 systemd"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea1o t\u1eadp tin d\u1ecbch v\u1ee5:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo nano /etc/systemd/system/flask_project.service\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"D\xe1n v\xe0 \u0111i\u1ec1u ch\u1ec9nh \u0111\u01b0\u1eddng d\u1eabn v\xe0 ng\u01b0\u1eddi d\xf9ng cho ph\xf9 h\u1ee3p tr\xean m\xe1y ch\u1ee7 c\u1ee7a b\u1ea1n:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'[Unit]\nDescription=Gunicorn instance to serve Project Name\nAfter=network.target\n\n[Service]\nUser=$USER\nGroup=$GROUP\nWorkingDirectory=/home/user/project_folder # Path project folder\nEnvironment="PATH=/home/user/project_folder/venv/bin" # Path project /bin\nExecStart=/home/user/project_folder/venv/bin/gunicorn --workers 3 --bind unix:project_name.sock -m 007 wsgi:app --access-logfile /home/user/project_folder/log/access.log --error-logfile /home/user/project_folder/log/error.log\n\n[Install]\nWantedBy=multi-user.target\n'})}),"\n",(0,s.jsxs)(e.admonition,{type:"warning",children:[(0,s.jsxs)(e.p,{children:["Ch\xfa \xfd thay \u0111\u01b0\u1eddng d\u1eabn ch\xednh x\xe1c theo c\u1ea5u tr\xfac th\u01b0 m\u1ee5c d\u1ef1 \xe1n tr\xean n\xe1y ch",(0,s.jsx)(e.strong,{children:"\u1ee7:"})]}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"/home/user:"})," Ng\u01b0\u1eddi d\xf9ng \u0111\u0103ng nh\u1eadp ssh hi\u1ec7n t\u1ea1i"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"/home/user/project_folder:"})," Th\u01b0 m\u1ee5c d\u1ef1 \xe1n"]}),"\n"]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea3i l\u1ea1i v\xe0 k\xedch ho\u1ea1t:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo systemctl daemon-reexec\nsudo systemctl start project_name\nsudo systemctl enable project_name\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ki\u1ec3m tra tr\u1ea1ng th\xe1i:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo systemctl status flask_project\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-t\xf9y-ch\u1ecdn-k\xedch-ho\u1ea1t-https-b\u1eb1ng-lets-encrypt",children:"\ud83d\udd10 (T\xf9y ch\u1ecdn) K\xedch ho\u1ea1t HTTPS b\u1eb1ng Let's Encrypt"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo apt install certbot python3-certbot-nginx -y\nsudo certbot --nginx\n"})}),"\n",(0,s.jsx)(e.p,{children:"L\xe0m theo l\u1eddi nh\u1eafc \u0111\u1ec3 nh\u1eadn ch\u1ee9ng ch\u1ec9 SSL mi\u1ec5n ph\xed."}),"\n",(0,s.jsx)(e.h2,{id:"-truy-c\u1eadp-\u1ee9ng-d\u1ee5ng-c\u1ee7a-b\u1ea1n",children:"\u2705 Truy c\u1eadp \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n"}),"\n",(0,s.jsx)(e.p,{children:"M\u1edf tr\xecnh duy\u1ec7t c\u1ee7a b\u1ea1n v\xe0 \u0111i \u0111\u1ebfn:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"https://your-domain.com\n"})})]})}function E(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(V,{...n})}):V(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>l});var r=t(6540);const s={},c=r.createContext(s);function i(n){const e=r.useContext(c);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(c.Provider,{value:e},n.children)}}}]);